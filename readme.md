
# Team Delivr Sauce Code

backend api docs for the sauceCode hackathon by TeamDelivr backend team

this is the base url [https://gentle-crag-93709.herokuapp.com](https://gentle-crag-93709.herokuapp.com)
 ## There were so many problems with simplifyd so i resorted to heroku. @sultan too said we can use heroku if we face any problem with simplifyd
so Starting with auth
 
#Auth

to register a user, you can make a post request to 
```
https://gentle-crag-93709.herokuapp.com/auth/register

```
with a body that contains these fields(important fields are marked *): 
- first_name: String *
- last_name: String *
- email: String * (Valid email)
- password: String *
other not important fields ATM:
#### These fields are expected to be updated after registration
- preferences: Array
- courses_enrolled: Array (of course ids)

Response Upon request
```
{
    "id": "5fc0f3e3168f040004d04504",
    "email": "test@test.com",
    "first_name": "firstNameTest",
    "last_Name": "lastNameTest",
    "tokens": {
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySUQiOiI1ZmMwZjNlMzE2OGYwNDAwMDRkMDQ1MDQiLCJpYXQiOjE2MDY0ODA4ODQsImV4cCI6MTYwNjQ4MjA4NH0.HEqi-dZkkn6mQK9vXQ8mvv9pXKm3njTzx_mZ-Ox_0WY",
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiI1ZmMwZjNlMzE2OGYwNDAwMDRkMDQ1MDQiLCJpYXQiOjE2MDY0ODA4ODQsImV4cCI6MTYzODAzODQ4NH0.tMHPYfLFsXpG4UL5jqX3aKiIdHQ16PNXXML9zzPw_10"
    }
}

```
##
To login, simply make a post request to
```
 https://gentle-crag-93709.herokuapp.com/auth/login

```
with a body that contains just the email and the password of a registered user.

Response upon request

```
{
    "id": "5fc0f3e3168f040004d04504",
    "email": "test@test.com",
    "first_name": "firstNameTest",
    "last_Name": "lastNameTest",
    "courses_enrolled": [],
    "tokens": {
        "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySUQiOiI1ZmMwZjNlMzE2OGYwNDAwMDRkMDQ1MDQiLCJpYXQiOjE2MDY0ODA4ODQsImV4cCI6MTYwNjQ4MjA4NH0.HEqi-dZkkn6mQK9vXQ8mvv9pXKm3njTzx_mZ-Ox_0WY",
        "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdWQiOiI1ZmMwZjNlMzE2OGYwNDAwMDRkMDQ1MDQiLCJpYXQiOjE2MDY0ODA4ODQsImV4cCI6MTYzODAzODQ4NH0.tMHPYfLFsXpG4UL5jqX3aKiIdHQ16PNXXML9zzPw_10"
    }
}

```


# User

To get a user's information, you simply make a get request to this url

```
 https://gentle-crag-93709.herokuapp.com/user/userID
```
- Note: To make any request to this url, you need to have added the accessToken to the headers Authorization bearer token

where userID is a user's autogenerated id from their registration or login response. This id is unique and does not change.
you get a Response that contains all information about the particular user.

To update a user's profile, make a PATCH request to the above url with the fields you want to update. The body however must not contain a "courses_enrolled" field as it will assign a new array to it which overrides the previously stored array in the database.


To delete a user, make a delete request to the above url.

- To enroll a user to a particular course, make a patch request to the url below with a body that contains only the "courses_enrolled" field of which holds an array of courseIDs. make a get request to get the courses.
```
 https://gentle-crag-93709.herokuapp.com/user/userID/my-courses
```

# Course
To get all courses, you simply make a get request to
```
 https://gentle-crag-93709.herokuapp.com/courses
```

To add a course, you make a post request too the above url.
- Note: To make any request to this url, you need to have added the accessToken to the headers Authorization bearer token
 The body needs to contain the following fields









# TODO
 - delete courses instructors
 - delete resources from existing courses